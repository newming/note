(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{637:function(s,n,e){"use strict";e.r(n);var t=e(40),a=Object(t.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"模块化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模块化"}},[s._v("#")]),s._v(" 模块化")]),s._v(" "),e("h2",{attrs:{id:"module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[s._v("#")]),s._v(" Module")]),s._v(" "),e("p",[s._v("每个模块内部都是一个独立（私有）作用域，模块与模块之间不会有冲突")]),s._v(" "),e("ul",[e("li",[s._v("node 采用的模块化结构是 "),e("code",[s._v("CommonJS")]),s._v(" 规范")]),s._v(" "),e("li",[s._v("模块和文件是一一对应，即加载一个模块，实际上就是记载对应的一个文件模块")])]),s._v(" "),e("p",[s._v("模块中的全局变量（在 REPL 中无效）：")]),s._v(" "),e("ul",[e("li",[s._v("__dirname: 脚本所在路径")]),s._v(" "),e("li",[s._v("__filename: 文件所在路径(包含文件名)")])]),s._v(" "),e("p",[s._v("module, exports 对象：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// object")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Module {")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   id: '.', // 文件路径，如果是入口文件则是 .")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   exports: {},")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   parent: null, // 被谁加载，即被谁引用了，如果 parent 为 null 则该文件为入口文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   filename: '/Users/newming/doc/note/node/test.js',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   loaded: false,")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   children: [],")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   paths:[")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/Users/newming/doc/note/node/node_modules',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/Users/newming/doc/note/node_modules',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/Users/newming/doc/node_modules',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/Users/newming/node_modules',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/Users/node_modules',")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     '/node_modules'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   ]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// }")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// module.exports 与 exports 关系")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// exports 是 module.exports 的别名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" module "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("p",[s._v("module 对象：")]),s._v(" "),e("ul",[e("li",[s._v("node 内部提供一个 Module 构造函数，所有模块都是 Module 实例，属性如下：\n"),e("ul",[e("li",[s._v("module.id 模块的标识符，通常是带有绝对路径的模块文件名")]),s._v(" "),e("li",[s._v("module.filename 模块定义的文件绝对路径")]),s._v(" "),e("li",[s._v("module.loaded 返回一个布尔值，表示模块是否已经被加载")]),s._v(" "),e("li",[s._v("module.parent 返回一个对象，表示调用该模块的模块")]),s._v(" "),e("li",[s._v("module.children 返回一个数组，表示该模块要用到的其他模块")]),s._v(" "),e("li",[s._v("module.exports 表示模块对外输出的值")])])]),s._v(" "),e("li",[s._v("载入一个模块就是构建一个 Module 实例")])])])}),[],!1,null,null,null);n.default=a.exports}}]);