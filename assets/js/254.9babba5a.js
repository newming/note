(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{618:function(s,t,e){"use strict";e.r(t);var a=e(40),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"ssh-工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-工具"}},[s._v("#")]),s._v(" SSH 工具")]),s._v(" "),e("h2",{attrs:{id:"ssh-是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-是什么"}},[s._v("#")]),s._v(" SSH 是什么")]),s._v(" "),e("ul",[e("li",[s._v("Secure Shell 安全外壳协议")]),s._v(" "),e("li",[s._v("建立在应用层基础上的安全协议")]),s._v(" "),e("li",[s._v("可靠，专为远程登录会话和其他网络服务提供安全性的协议")]),s._v(" "),e("li",[s._v("有效防止远程管理过程中的信息泄漏问题")]),s._v(" "),e("li",[s._v("SSH 客户端适用于多种平台")]),s._v(" "),e("li",[s._v("SSH 服务端几乎支持所有 UNIX 平台")])]),s._v(" "),e("h2",{attrs:{id:"在服务端上安装-ssh-服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在服务端上安装-ssh-服务"}},[s._v("#")]),s._v(" 在服务端上安装 ssh 服务")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-server\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd start\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 ssh 进程")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机运行")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" sshd on\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"在客户端上安装-ssh-工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在客户端上安装-ssh-工具"}},[s._v("#")]),s._v(" 在客户端上安装 ssh 工具")]),s._v(" "),e("ul",[e("li",[s._v("windows: Xshell, Putty, secureCRT")]),s._v(" "),e("li",[s._v("Linux: yum install openssh-clients (安装 openssh-server 时这个就装了)")])]),s._v(" "),e("h2",{attrs:{id:"ssh-config-命令讲解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-config-命令讲解"}},[s._v("#")]),s._v(" SSH config 命令讲解")]),s._v(" "),e("ul",[e("li",[s._v("config 为了方便批量管理多个 SSH")]),s._v(" "),e("li",[s._v("config 存放在 ~/.ssh/config")]),s._v(" "),e("li",[s._v("config 配置语法")])]),s._v(" "),e("p",[s._v("SSH config 语法关键字")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[s._v("关键字")]),s._v(" "),e("th",{staticStyle:{"text-align":"center"}},[s._v("作用")])])]),s._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[s._v("Host")]),s._v(" "),e("td",{staticStyle:{"text-align":"center"}},[s._v("别名")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[s._v("HostName")]),s._v(" "),e("td",{staticStyle:{"text-align":"center"}},[s._v("主机名")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[s._v("Port")]),s._v(" "),e("td",{staticStyle:{"text-align":"center"}},[s._v("端口")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[s._v("User")]),s._v(" "),e("td",{staticStyle:{"text-align":"center"}},[s._v("用户名")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[s._v("IdentityFile")]),s._v(" "),e("td",{staticStyle:{"text-align":"center"}},[s._v("密钥文件的路径")])])])]),s._v(" "),e("h2",{attrs:{id:"ssh-安全免密码登录：ssh-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-安全免密码登录：ssh-key"}},[s._v("#")]),s._v(" SSH 安全免密码登录：ssh key")]),s._v(" "),e("ul",[e("li",[s._v("ssh key 使用非对称加密方式生成 公钥 和 私钥")]),s._v(" "),e("li",[s._v("私钥存放在本地 ~/.ssh 目录")]),s._v(" "),e("li",[s._v("公钥可以对外\b公开，放在服务器的 ~/.ssh/authorized_keys")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成密\b钥")]),s._v("\nssh-keygen -t rsa\nssh-keygen -t dsa\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将开发机的 .ssh/id_rsa.pub 拷贝到服务器 ~/.ssh/authorized_keys")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"ssh-安全端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-安全端口"}},[s._v("#")]),s._v(" SSH 安全端口")]),s._v(" "),e("p",[s._v("端口安全指的是尽量避免服务器的远程连接端口被不法分子知道，为此而改变默认服务器端口号的操作。只需要修改服务器 /etc/ssh/sshd_config 配置")]),s._v(" "),e("p",[s._v("这个在修改时候出错了，报 "),e("code",[s._v("error: Bind to port xxxx on 0.0.0.0 failed: Permission denied.")]),s._v("，后来查了一下，还是比较难解决")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/zbinlin/blog/blob/master/change-sshd-port-in-centos7.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("解决文档"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 Port 即可，可以同时监听多个")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd restart\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查状态")]),s._v("\nsystemctl status sshd.service\n\njournalctl -u sshd.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);