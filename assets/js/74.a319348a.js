(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{434:function(s,a,t){"use strict";t.r(a);var n=t(40),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[s._v("#")]),s._v(" git")]),s._v(" "),t("h2",{attrs:{id:"概念-其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概念-其他"}},[s._v("#")]),s._v(" 概念&其他")]),s._v(" "),t("p",[s._v("VCS: version control system")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://git-scm.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git 官网"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://github.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://about.gitlab.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitLab"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://subversion.apache.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("SVN"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("RouterLink",{attrs:{to:"/git/git.html"}},[s._v("git学习")])],1)]),s._v(" "),t("h2",{attrs:{id:"版本管理的演变"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本管理的演变"}},[s._v("#")]),s._v(" 版本管理的演变")]),s._v(" "),t("ul",[t("li",[s._v("VCS出现前： 用目录拷贝区别不同版本，公用文件容易被覆盖，成员沟通成本很高，代码集成效率低下")]),s._v(" "),t("li",[s._v("集中式VCS: (SVN)有集中的版本管理服务器，具备文件版本管理和分支管理能力，集成效率明显提高，客户端必须时刻和服务器相连")]),s._v(" "),t("li",[s._v("分布式VCS: (git)服务端和客户端都有完整的版本库，脱离服务端，客户端照样可以管理版本，查看历史和版本比较等多数操作，都不需要访问服务器，比集中式VCS更能提高版本管理效率")])]),s._v(" "),t("h2",{attrs:{id:"git-的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-的特点"}},[s._v("#")]),s._v(" Git 的特点")]),s._v(" "),t("ul",[t("li",[s._v("最优的存储能力")]),s._v(" "),t("li",[s._v("非凡的性能")]),s._v(" "),t("li",[s._v("开源的")]),s._v(" "),t("li",[s._v("很容易做备份")]),s._v(" "),t("li",[s._v("支持离线操作")]),s._v(" "),t("li",[s._v("很容易定制工作流程")])]),s._v(" "),t("h2",{attrs:{id:"设置用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置用户"}},[s._v("#")]),s._v(" 设置用户")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只对某个仓库有效，缺省等同于 local")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.name "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看本地 user.name 信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.name newming "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置本地 user.name 信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# global对当前用户所有仓库有效")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --system "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# system 对系统所有登陆的用户有效")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --list 查看全部配置")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"add"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add"}},[s._v("#")]),s._v(" add")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -u "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# update 将已经跟踪了的文件，只是做了更新的文件添加到暂存区")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"重命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重命名"}},[s._v("#")]),s._v(" 重命名")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 常规删除文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" readme readme.md\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" readme.md\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" readme\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用git重命名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" readme readme.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"git-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-log"}},[s._v("#")]),s._v(" git log")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --oneline "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只显示一行: hash message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log -n4 --oneline "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最近的四次commit，只显示一行: hash message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --all "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示本地所有分支 commit 信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --all --graph "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 图形化显示本地所有分支 commit 信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("查看帮助信息")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" --web log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"图形化界面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图形化界面"}},[s._v("#")]),s._v(" 图形化界面")]),s._v(" "),t("p",[t("img",{attrs:{src:"gitk-client.jpg",alt:"gitk"}})]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gitk "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入图形化界面")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Author 与 Commiter 的区别: Author 是作者，Commiter 是提交者，一半情况下都是相同的。当使用 cherry pick 的时候，有可能会出现不同")]),s._v(" "),t("h2",{attrs:{id:"git-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-2"}},[s._v("#")]),s._v(" .git")]),s._v(" "),t("p",[s._v("下边是 .git 的目录结构")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(".git\n├── COMMIT_EDITMSG\n├── FETCH_HEAD\n├── HEAD\n├── ORIG_HEAD\n├── config\n├── description\n├── gitk.cache\n├── hooks\n│   ├── applypatch-msg.sample\n│   ├── commit-msg.sample\n│   ├── post-update.sample\n│   ├── pre-applypatch.sample\n│   ├── pre-commit.sample\n│   ├── pre-push.sample\n│   ├── pre-rebase.sample\n│   ├── pre-receive.sample\n│   ├── prepare-commit-msg.sample\n│   └── update.sample\n├── index\n├── info\n│   └── exclude\n├── logs\n│   ├── HEAD\n│   └── refs\n├── objects\n│   ├── 05\n|   |   └──09ec8770b117aee823fa79f2b2074a5a74de4f\n│   ├── 08\n│   ├── 09\n│   ├── a9\n│   ├── f4\n│   ├── fa\n│   ├── fd\n│   ├── info\n│   └── pack\n├── packed-refs\n└── refs\n    ├── heads\n    ├── remotes\n    └── tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("ul",[t("li",[s._v("HEAD文件: 描述当前所处的分支引用，比如：ref: refs/heads/master")]),s._v(" "),t("li",[s._v("config: 存放本地仓库（local）相关的配置信息")]),s._v(" "),t("li",[s._v("refs\n"),t("ul",[t("li",[s._v("heads: 存放的就是本地的分支文件夹\n"),t("ul",[t("li",[s._v("master: 3b31a0e813e738d19f48f6b87fecd97daf70c379 存放的是一个对象，可以通过 git cat-file -t 3b31a0e813e738d19f48f6b87fecd97daf70c379 显示版本库对象的类型，这里的是一次 commit，也存在 tag 类型")])])]),s._v(" "),t("li",[s._v("tags: 存放tag，又叫里程牌 （当这次commit是具有里程碑意义的 比如项目1.0的时候 就可以打tag）")]),s._v(" "),t("li",[s._v("remotes: 远端分支")])])]),s._v(" "),t("li",[s._v("objects: 存放对象。.git/objects/ 文件夹中的子文件夹都是以哈希值的前两位字符命名 每个object由40位字符组成，前两位字符用来当文件夹，后38位做文件，例如上边 tree 显示的 05是两位，下边的子文件是 38位，其中 38 位子文件内部是二进制\n"),t("ul",[t("li",[s._v("pack")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令显示版本库对象的内容、类型及大小信息 https://git-scm.com/docs/git-cat-file")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -t "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示版本库对象的类型")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示版本库对象的大小")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示版本库对象的内容")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 Object 下某个对象的信息，例如上边 05")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -t 0509ec8770b117aee823fa79f2b2074a5a74de4f\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tree")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后边的id是两个 id 拼起来的")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 Object 下某个对象的内容，例如上边 05")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -p 0509ec8770b117aee823fa79f2b2074a5a74de4f\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 100644 blob ba735a1703c3992eac1c71b2796f00189b814773 README.md")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出多行文件修改信息，其中 blob 是文件的类型，hash 是文件的ID，下边可以根据文件的ID查看文件信息和内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -t ba735a1703c3992eac1c71b2796f00189b814773 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# blob")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file -p ba735a1703c3992eac1c71b2796f00189b814773 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看文件的内容")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("总结：git中的几种对象，commit, tree, blob, tag")]),s._v(" "),t("h2",{attrs:{id:"commit-tree-blob-的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commit-tree-blob-的关系"}},[s._v("#")]),s._v(" commit,tree,blob 的关系")]),s._v(" "),t("p",[t("img",{attrs:{src:"git-commit-tree-blob.jpg",alt:"git-commit-tree-blob"}})]),s._v(" "),t("h2",{attrs:{id:"分离头指针"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分离头指针"}},[s._v("#")]),s._v(" 分离头指针")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切出来的新的工作区没有和任何一个分支或者tag绑定")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当在分离头指针状态下做了commit后，如果切到其他分支，commit将被丢弃，需要保留的话可以创建一个新的分支来保留commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("new-branch-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的 commit 是指在分离头指针新增的 commit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"head和branch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#head和branch"}},[s._v("#")]),s._v(" HEAD和branch")]),s._v(" "),t("p",[s._v("HEAD可以指向一个分支(最终也是指向一个commit)，也可以指向一次 commit(分离头指针)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("new-branch-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("origin-branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以基于某个分支或者commit创建新的分支")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HEAD指代")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD~1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD~\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD^1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD^\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("ul",[t("li",[s._v("一个节点，可以包含多个子节点（checkout 出多个分支）")]),s._v(" "),t("li",[s._v("一个节点可以有多个父节点（多个分支合并）")]),s._v(" "),t("li",[s._v("^是~都是父节点，后边可以跟随数字，代表前多少个父节点")]),s._v(" "),t("li",[s._v("^和~可以组合使用,例如 HEAD~2^2")])]),s._v(" "),t("h2",{attrs:{id:"修改commit的message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改commit的message"}},[s._v("#")]),s._v(" 修改commit的message")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/6632191/how-to-revert-initial-git-commit",target:"_blank",rel:"noopener noreferrer"}},[s._v("删除第一次commit"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" update-ref -d HEAD\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("修改一次commit的message")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改最近一次的message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改老得commit的message，rebase变基可以基于commit或者branch，commit要是当前打算修改的 commit 的父commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit/branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对需要修改的 commit 执行 reword 操作即可，然后会重新修改 commit message")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("在弹出的 rebase -i 命令操作界面，有如下几个commands：")]),s._v(" "),t("ul",[t("li",[s._v("p: pick, use commit 使用 commit")]),s._v(" "),t("li",[s._v("r: reword, use commit but edit the commit message 使用该次提交，但是会修改 commit message，同时 commit id 会发生变化(所有发生改变的commit之后的commit id都会发生变化)")]),s._v(" "),t("li",[s._v("e: edit, use commit but stop for amending")]),s._v(" "),t("li",[s._v("s: squash, use commit but meld into previous commit")]),s._v(" "),t("li",[s._v("f: fixup, like 'squash' but discard this commit's log message")])]),s._v(" "),t("p",[s._v("git rebase工作的过程中，就是用了分离头指针。rebase意味着基于新base的commit来变更部分commits。它处理的时候，把HEAD指向base的commit，此时如果该commit没有对应branch，就处于分离头指针的状态，然后重新一个一个生成新的commit，当rebase创建完最后一个commit后，结束分离头状态，Git让变完基的分支名指向HEAD")]),s._v(" "),t("p",[t("strong",[s._v("将多个commit合并成一个")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit/branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commit 为需要合并的多个的commit的父commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对需要合并的 commit 执行 squash/fixup 操作即可，然后重新修改 commit message 即可")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("将间隔的几个commit整理成一个")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit/branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调整需要合并的 commit 的顺序，然后 squash，保存退出后可能会被拒绝，执行 continue")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase --continue\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"比较暂存区和head所包含文件的差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#比较暂存区和head所包含文件的差异"}},[s._v("#")]),s._v(" 比较暂存区和HEAD所包含文件的差异")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --cached\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将暂存区的修改恢复成和 HAED 相同内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD -- "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将工作区文件恢复成和暂存区一样")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 消除最近的几次提交")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"比较工作区和暂存区所包含文件的差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#比较工作区和暂存区所包含文件的差异"}},[s._v("#")]),s._v(" 比较工作区和暂存区所包含文件的差异")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" -- readme.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);