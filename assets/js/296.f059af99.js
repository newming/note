(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{659:function(t,s,a){"use strict";a.r(s);var e=a(40),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"jsx-语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsx-语法"}},[t._v("#")]),t._v(" JSX 语法")]),t._v(" "),a("p",[t._v("JSX 是 React 的一项非常高明的创新。是语法糖，最终还是需要转为 js 执行。并且已经成为了一个标准。")]),t._v(" "),a("h2",{attrs:{id:"为什么需要-vdom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要-vdom"}},[t._v("#")]),t._v(" 为什么需要 vdom")]),t._v(" "),a("ul",[a("li",[t._v("vdom 是 React 初次推广开来的，结合 JSX")]),t._v(" "),a("li",[t._v("JSX 就是模版，最终要渲染成 html")]),t._v(" "),a("li",[t._v("初次渲染 + 修改 state 后的 re-render，正好符合 vdom 的应用场景")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初次渲染，回触发 patch(container, vnode)")]),t._v("\nReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// re-render -> setState，触发 patch(newVnode, oldVnode)")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h2",{attrs:{id:"自定义组件的解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件的解析"}},[t._v("#")]),t._v(" 自定义组件的解析")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  Test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意：正常 html 标签是一个字符串，自定义组件是传入了一个 class")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[t._v("'div' 直接渲染 "),a("code",[t._v("<div>")]),t._v(" 即可，vdom 可以做到")]),t._v(" "),a("li",[t._v("Test 是自定义组件(class)，vdom 默认不认识")]),t._v(" "),a("li",[t._v("因此 Test 组件定义的时候必须声明 render 函数")]),t._v(" "),a("li",[t._v("根据 props 初始化实例，然后执行实例的 render 函数")]),t._v(" "),a("li",[t._v("render 函数返回的还是 vnode 对象")])]),t._v(" "),a("h2",{attrs:{id:"setstate-异步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstate-异步"}},[t._v("#")]),t._v(" setState 异步")]),t._v(" "),a("p",[t._v("组件每次 setState 后会执行继承过来的 renderComponent 方法，实现更新。在 renderComponent 内实现虚拟 dom 更新")]),t._v(" "),a("p",[t._v("为何需要异步：")]),t._v(" "),a("ul",[a("li",[t._v("可能会一次执行多次 setState")]),t._v(" "),a("li",[t._v("无法规定、限制用户如何使用 setState")]),t._v(" "),a("li",[t._v("没必要每次 setState 都重新渲染，考虑性能")]),t._v(" "),a("li",[t._v("即便是每次重新渲染，用户也看不到中间的效果")])]),t._v(" "),a("h2",{attrs:{id:"react-vs-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-vs-vue"}},[t._v("#")]),t._v(" React VS Vue")]),t._v(" "),a("p",[t._v("两者有什么本质区别（模版、组件化）：")]),t._v(" "),a("ul",[a("li",[t._v("vue 本质是 MVVM 框架，由 MVC 发展而来")]),t._v(" "),a("li",[t._v("React 本质是前端组件化框架，由后端组件化发展而来")]),t._v(" "),a("li",[t._v("vue 使用模版（最初由 angular 提出）")]),t._v(" "),a("li",[t._v("React 使用 JSX")]),t._v(" "),a("li",[t._v("React 本身就是组件化，没有组件化就不是 React")]),t._v(" "),a("li",[t._v("vue 也支持组件化，不过是在 MVVM 上的拓展")])]),t._v(" "),a("p",[t._v("模版语法上，更喜欢 JSX，因为 JSX 写起来更像 html ，用 "),a("code",[t._v("{}")]),t._v(" 包起来的是 js 语法，风格统一，学习成本低。但是模版与各种 js, css 混在一起，不是很清楚。")]),t._v(" "),a("p",[t._v('模版分离上，更喜欢 Vue，但是 Vue 的写法上有一些不是很直观的东西，比如 v-if="ok"，这里 ok 是一个变量，容易造成误解，增加学习成本。')]),t._v(" "),a("p",[t._v("两者共同点：")]),t._v(" "),a("ul",[a("li",[t._v("都支持组件化")]),t._v(" "),a("li",[t._v("都是数据驱动视图")])]),t._v(" "),a("p",[t._v("选择：")]),t._v(" "),a("ul",[a("li",[t._v("国内使用，首推 vue，文档易读、易学、社区够大")]),t._v(" "),a("li",[t._v("如果团队水平够高，推荐使用 React。组件化和 JSX")])])])}),[],!1,null,null,null);s.default=n.exports}}]);