<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络 | 代码笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="钮旭明的代码笔记">
    <link rel="preload" href="/note/assets/css/0.styles.801ee63d.css" as="style"><link rel="preload" href="/note/assets/js/app.a4e7d56a.js" as="script"><link rel="preload" href="/note/assets/js/2.9531d645.js" as="script"><link rel="preload" href="/note/assets/js/3.40a3a4bf.js" as="script"><link rel="prefetch" href="/note/assets/js/10.92d4c17f.js"><link rel="prefetch" href="/note/assets/js/100.0031a11a.js"><link rel="prefetch" href="/note/assets/js/101.503fb66b.js"><link rel="prefetch" href="/note/assets/js/102.af410445.js"><link rel="prefetch" href="/note/assets/js/103.17834597.js"><link rel="prefetch" href="/note/assets/js/104.37abd437.js"><link rel="prefetch" href="/note/assets/js/105.4e37093a.js"><link rel="prefetch" href="/note/assets/js/106.2cbbfb32.js"><link rel="prefetch" href="/note/assets/js/107.9a662cdd.js"><link rel="prefetch" href="/note/assets/js/108.984372e8.js"><link rel="prefetch" href="/note/assets/js/109.de05af16.js"><link rel="prefetch" href="/note/assets/js/11.250d1582.js"><link rel="prefetch" href="/note/assets/js/110.cd629cc6.js"><link rel="prefetch" href="/note/assets/js/111.245baa12.js"><link rel="prefetch" href="/note/assets/js/112.f832407e.js"><link rel="prefetch" href="/note/assets/js/113.ce73663a.js"><link rel="prefetch" href="/note/assets/js/114.e7879362.js"><link rel="prefetch" href="/note/assets/js/115.2e0a4fa3.js"><link rel="prefetch" href="/note/assets/js/116.9c9caad6.js"><link rel="prefetch" href="/note/assets/js/117.f9c5cc91.js"><link rel="prefetch" href="/note/assets/js/118.443f5cf5.js"><link rel="prefetch" href="/note/assets/js/119.42d58ae0.js"><link rel="prefetch" href="/note/assets/js/12.7788a484.js"><link rel="prefetch" href="/note/assets/js/120.8e9c9686.js"><link rel="prefetch" href="/note/assets/js/121.96be3a13.js"><link rel="prefetch" href="/note/assets/js/122.63b9cc83.js"><link rel="prefetch" href="/note/assets/js/123.fc32b0b1.js"><link rel="prefetch" href="/note/assets/js/124.dd6de6aa.js"><link rel="prefetch" href="/note/assets/js/125.363034b7.js"><link rel="prefetch" href="/note/assets/js/126.e5f6db8f.js"><link rel="prefetch" href="/note/assets/js/127.04d0e568.js"><link rel="prefetch" href="/note/assets/js/128.bb691742.js"><link rel="prefetch" href="/note/assets/js/129.e0556898.js"><link rel="prefetch" href="/note/assets/js/13.7ca90868.js"><link rel="prefetch" href="/note/assets/js/130.b55e6ffb.js"><link rel="prefetch" href="/note/assets/js/131.b176c30a.js"><link rel="prefetch" href="/note/assets/js/132.0603b8fb.js"><link rel="prefetch" href="/note/assets/js/133.f5adce1b.js"><link rel="prefetch" href="/note/assets/js/134.b663ba08.js"><link rel="prefetch" href="/note/assets/js/135.896fb0d8.js"><link rel="prefetch" href="/note/assets/js/136.1889aa08.js"><link rel="prefetch" href="/note/assets/js/137.e30705bc.js"><link rel="prefetch" href="/note/assets/js/138.28912867.js"><link rel="prefetch" href="/note/assets/js/139.7c631489.js"><link rel="prefetch" href="/note/assets/js/14.494f0206.js"><link rel="prefetch" href="/note/assets/js/140.9ddcedd9.js"><link rel="prefetch" href="/note/assets/js/141.c9c3c0f8.js"><link rel="prefetch" href="/note/assets/js/142.05576058.js"><link rel="prefetch" href="/note/assets/js/143.15f8ffd4.js"><link rel="prefetch" href="/note/assets/js/144.9e152789.js"><link rel="prefetch" href="/note/assets/js/145.11bfc7a8.js"><link rel="prefetch" href="/note/assets/js/146.649ee4bf.js"><link rel="prefetch" href="/note/assets/js/147.3ca236e6.js"><link rel="prefetch" href="/note/assets/js/148.c93df506.js"><link rel="prefetch" href="/note/assets/js/149.604f7979.js"><link rel="prefetch" href="/note/assets/js/15.e72f794c.js"><link rel="prefetch" href="/note/assets/js/150.9f6ee11e.js"><link rel="prefetch" href="/note/assets/js/151.7fa58762.js"><link rel="prefetch" href="/note/assets/js/152.def21a94.js"><link rel="prefetch" href="/note/assets/js/153.38d3d243.js"><link rel="prefetch" href="/note/assets/js/154.74b0ef78.js"><link rel="prefetch" href="/note/assets/js/155.952c9047.js"><link rel="prefetch" href="/note/assets/js/156.1cca5dba.js"><link rel="prefetch" href="/note/assets/js/157.da57ab97.js"><link rel="prefetch" href="/note/assets/js/158.1dd4e367.js"><link rel="prefetch" href="/note/assets/js/159.4a59e442.js"><link rel="prefetch" href="/note/assets/js/16.87befd0f.js"><link rel="prefetch" href="/note/assets/js/160.f6c119a4.js"><link rel="prefetch" href="/note/assets/js/161.43682ed7.js"><link rel="prefetch" href="/note/assets/js/162.0f707de7.js"><link rel="prefetch" href="/note/assets/js/163.29ed9e8a.js"><link rel="prefetch" href="/note/assets/js/164.c4bc1efc.js"><link rel="prefetch" href="/note/assets/js/165.2036cc7d.js"><link rel="prefetch" href="/note/assets/js/166.92d30a88.js"><link rel="prefetch" href="/note/assets/js/167.90da2636.js"><link rel="prefetch" href="/note/assets/js/168.76cf9738.js"><link rel="prefetch" href="/note/assets/js/169.49771bb9.js"><link rel="prefetch" href="/note/assets/js/17.585d6f71.js"><link rel="prefetch" href="/note/assets/js/170.b46ce449.js"><link rel="prefetch" href="/note/assets/js/171.33d22599.js"><link rel="prefetch" href="/note/assets/js/172.0b534731.js"><link rel="prefetch" href="/note/assets/js/173.5230d086.js"><link rel="prefetch" href="/note/assets/js/174.5b452ace.js"><link rel="prefetch" href="/note/assets/js/175.1ba18fcf.js"><link rel="prefetch" href="/note/assets/js/176.6c0df0a9.js"><link rel="prefetch" href="/note/assets/js/177.f14db854.js"><link rel="prefetch" href="/note/assets/js/178.72101dd6.js"><link rel="prefetch" href="/note/assets/js/179.379ecd20.js"><link rel="prefetch" href="/note/assets/js/18.b1cda4c6.js"><link rel="prefetch" href="/note/assets/js/180.a51b44e0.js"><link rel="prefetch" href="/note/assets/js/181.ab825173.js"><link rel="prefetch" href="/note/assets/js/182.41aef53f.js"><link rel="prefetch" href="/note/assets/js/183.0e672608.js"><link rel="prefetch" href="/note/assets/js/184.255141aa.js"><link rel="prefetch" href="/note/assets/js/185.b6f9fcea.js"><link rel="prefetch" href="/note/assets/js/186.b01d4dad.js"><link rel="prefetch" href="/note/assets/js/187.6ee64329.js"><link rel="prefetch" href="/note/assets/js/188.f8c0b4e9.js"><link rel="prefetch" href="/note/assets/js/189.9e167486.js"><link rel="prefetch" href="/note/assets/js/19.0eb04728.js"><link rel="prefetch" href="/note/assets/js/190.dd4a8a6c.js"><link rel="prefetch" href="/note/assets/js/191.834854c6.js"><link rel="prefetch" href="/note/assets/js/192.0bb10d91.js"><link rel="prefetch" href="/note/assets/js/193.60c9dff4.js"><link rel="prefetch" href="/note/assets/js/194.622bbd7c.js"><link rel="prefetch" href="/note/assets/js/195.82b44ff1.js"><link rel="prefetch" href="/note/assets/js/196.8ea0d887.js"><link rel="prefetch" href="/note/assets/js/197.5430faeb.js"><link rel="prefetch" href="/note/assets/js/198.c1544a15.js"><link rel="prefetch" href="/note/assets/js/199.5cca612d.js"><link rel="prefetch" href="/note/assets/js/20.31999078.js"><link rel="prefetch" href="/note/assets/js/200.55a82f45.js"><link rel="prefetch" href="/note/assets/js/201.bc673c06.js"><link rel="prefetch" href="/note/assets/js/202.545cec18.js"><link rel="prefetch" href="/note/assets/js/203.9d7107af.js"><link rel="prefetch" href="/note/assets/js/204.e31e1fcc.js"><link rel="prefetch" href="/note/assets/js/205.c16c84dd.js"><link rel="prefetch" href="/note/assets/js/206.2e396149.js"><link rel="prefetch" href="/note/assets/js/207.761008ed.js"><link rel="prefetch" href="/note/assets/js/208.9a36bbf9.js"><link rel="prefetch" href="/note/assets/js/209.85ad2d4c.js"><link rel="prefetch" href="/note/assets/js/21.f395c4fa.js"><link rel="prefetch" href="/note/assets/js/210.a5a83a38.js"><link rel="prefetch" href="/note/assets/js/211.e0c04d50.js"><link rel="prefetch" href="/note/assets/js/212.d7949643.js"><link rel="prefetch" href="/note/assets/js/213.2c41aeba.js"><link rel="prefetch" href="/note/assets/js/214.26f14c1b.js"><link rel="prefetch" href="/note/assets/js/215.14938149.js"><link rel="prefetch" href="/note/assets/js/216.db2aa23a.js"><link rel="prefetch" href="/note/assets/js/217.045e3794.js"><link rel="prefetch" href="/note/assets/js/218.61732742.js"><link rel="prefetch" href="/note/assets/js/219.6ad985cc.js"><link rel="prefetch" href="/note/assets/js/22.a0e8cabe.js"><link rel="prefetch" href="/note/assets/js/220.5610e222.js"><link rel="prefetch" href="/note/assets/js/221.477ce095.js"><link rel="prefetch" href="/note/assets/js/222.02ea9a94.js"><link rel="prefetch" href="/note/assets/js/223.caf47eed.js"><link rel="prefetch" href="/note/assets/js/224.f31b8730.js"><link rel="prefetch" href="/note/assets/js/225.f8b1845e.js"><link rel="prefetch" href="/note/assets/js/226.4d147c1a.js"><link rel="prefetch" href="/note/assets/js/227.4d0af7a9.js"><link rel="prefetch" href="/note/assets/js/228.d6f81d90.js"><link rel="prefetch" href="/note/assets/js/229.ec20f146.js"><link rel="prefetch" href="/note/assets/js/23.9cf76129.js"><link rel="prefetch" href="/note/assets/js/230.667a2b2c.js"><link rel="prefetch" href="/note/assets/js/231.6b26010d.js"><link rel="prefetch" href="/note/assets/js/232.6bbe3f56.js"><link rel="prefetch" href="/note/assets/js/233.3df9693b.js"><link rel="prefetch" href="/note/assets/js/234.807874d2.js"><link rel="prefetch" href="/note/assets/js/235.9dc238c8.js"><link rel="prefetch" href="/note/assets/js/236.852d4047.js"><link rel="prefetch" href="/note/assets/js/237.74b77406.js"><link rel="prefetch" href="/note/assets/js/238.f5b33e7e.js"><link rel="prefetch" href="/note/assets/js/239.8f086a59.js"><link rel="prefetch" href="/note/assets/js/24.5b1320bb.js"><link rel="prefetch" href="/note/assets/js/240.6a246434.js"><link rel="prefetch" href="/note/assets/js/241.ab6f3a49.js"><link rel="prefetch" href="/note/assets/js/242.64a7775e.js"><link rel="prefetch" href="/note/assets/js/243.82376098.js"><link rel="prefetch" href="/note/assets/js/244.9bd53837.js"><link rel="prefetch" href="/note/assets/js/245.fc1063a2.js"><link rel="prefetch" href="/note/assets/js/246.52cf41cb.js"><link rel="prefetch" href="/note/assets/js/247.311d2d8f.js"><link rel="prefetch" href="/note/assets/js/248.eeb83505.js"><link rel="prefetch" href="/note/assets/js/249.47ad0a78.js"><link rel="prefetch" href="/note/assets/js/25.2b5fd278.js"><link rel="prefetch" href="/note/assets/js/250.b49d373b.js"><link rel="prefetch" href="/note/assets/js/251.3576f6a7.js"><link rel="prefetch" href="/note/assets/js/252.1667f02d.js"><link rel="prefetch" href="/note/assets/js/253.07f4c192.js"><link rel="prefetch" href="/note/assets/js/254.9babba5a.js"><link rel="prefetch" href="/note/assets/js/255.ce8c1245.js"><link rel="prefetch" href="/note/assets/js/256.4afb49e3.js"><link rel="prefetch" href="/note/assets/js/257.736bb2b0.js"><link rel="prefetch" href="/note/assets/js/258.cf6db1af.js"><link rel="prefetch" href="/note/assets/js/259.caa28719.js"><link rel="prefetch" href="/note/assets/js/26.afd3627f.js"><link rel="prefetch" href="/note/assets/js/260.86e50f15.js"><link rel="prefetch" href="/note/assets/js/261.7b7ac3d8.js"><link rel="prefetch" href="/note/assets/js/262.d1b663e2.js"><link rel="prefetch" href="/note/assets/js/263.5a38d25d.js"><link rel="prefetch" href="/note/assets/js/264.854c6bb2.js"><link rel="prefetch" href="/note/assets/js/265.e5cda413.js"><link rel="prefetch" href="/note/assets/js/266.6b67ea6f.js"><link rel="prefetch" href="/note/assets/js/267.c486396b.js"><link rel="prefetch" href="/note/assets/js/268.43b22073.js"><link rel="prefetch" href="/note/assets/js/269.aee26007.js"><link rel="prefetch" href="/note/assets/js/27.8fbaaff4.js"><link rel="prefetch" href="/note/assets/js/270.03e35bdc.js"><link rel="prefetch" href="/note/assets/js/271.7a9c39e9.js"><link rel="prefetch" href="/note/assets/js/272.206d7027.js"><link rel="prefetch" href="/note/assets/js/273.53251bf6.js"><link rel="prefetch" href="/note/assets/js/274.f0b54d37.js"><link rel="prefetch" href="/note/assets/js/275.0c088db5.js"><link rel="prefetch" href="/note/assets/js/276.64f43e83.js"><link rel="prefetch" href="/note/assets/js/277.c59c36f5.js"><link rel="prefetch" href="/note/assets/js/278.ff7d7c9f.js"><link rel="prefetch" href="/note/assets/js/279.a7be0dde.js"><link rel="prefetch" href="/note/assets/js/28.90061d89.js"><link rel="prefetch" href="/note/assets/js/280.16217635.js"><link rel="prefetch" href="/note/assets/js/281.8971db66.js"><link rel="prefetch" href="/note/assets/js/282.fef27f8b.js"><link rel="prefetch" href="/note/assets/js/283.515caa6b.js"><link rel="prefetch" href="/note/assets/js/284.882dddd1.js"><link rel="prefetch" href="/note/assets/js/285.d3f8c72c.js"><link rel="prefetch" href="/note/assets/js/286.286d66d1.js"><link rel="prefetch" href="/note/assets/js/287.b1add86a.js"><link rel="prefetch" href="/note/assets/js/288.72c25af1.js"><link rel="prefetch" href="/note/assets/js/289.dcd2f67a.js"><link rel="prefetch" href="/note/assets/js/29.ba119a37.js"><link rel="prefetch" href="/note/assets/js/290.30e6c4d6.js"><link rel="prefetch" href="/note/assets/js/291.8a884282.js"><link rel="prefetch" href="/note/assets/js/292.093a328a.js"><link rel="prefetch" href="/note/assets/js/293.307b768d.js"><link rel="prefetch" href="/note/assets/js/294.f0e92eb2.js"><link rel="prefetch" href="/note/assets/js/295.f465b2e9.js"><link rel="prefetch" href="/note/assets/js/296.f059af99.js"><link rel="prefetch" href="/note/assets/js/297.cf92ff0c.js"><link rel="prefetch" href="/note/assets/js/298.c94d8a98.js"><link rel="prefetch" href="/note/assets/js/299.a15d5ff9.js"><link rel="prefetch" href="/note/assets/js/30.1d301a0e.js"><link rel="prefetch" href="/note/assets/js/300.fdb6cf0d.js"><link rel="prefetch" href="/note/assets/js/301.a37863e1.js"><link rel="prefetch" href="/note/assets/js/302.79597296.js"><link rel="prefetch" href="/note/assets/js/303.c3457608.js"><link rel="prefetch" href="/note/assets/js/304.544137de.js"><link rel="prefetch" href="/note/assets/js/31.6f72aab7.js"><link rel="prefetch" href="/note/assets/js/32.b7b72187.js"><link rel="prefetch" href="/note/assets/js/33.f15d3a3c.js"><link rel="prefetch" href="/note/assets/js/34.8bc7f6d0.js"><link rel="prefetch" href="/note/assets/js/35.9bc2b08d.js"><link rel="prefetch" href="/note/assets/js/36.f9303ae7.js"><link rel="prefetch" href="/note/assets/js/37.1bdb2667.js"><link rel="prefetch" href="/note/assets/js/38.5fe6397d.js"><link rel="prefetch" href="/note/assets/js/39.7fe7475a.js"><link rel="prefetch" href="/note/assets/js/4.6e7d7442.js"><link rel="prefetch" href="/note/assets/js/40.43149add.js"><link rel="prefetch" href="/note/assets/js/41.0e4492b2.js"><link rel="prefetch" href="/note/assets/js/42.61d2fdd0.js"><link rel="prefetch" href="/note/assets/js/43.65f16a2c.js"><link rel="prefetch" href="/note/assets/js/44.32e6ce82.js"><link rel="prefetch" href="/note/assets/js/45.4e333d8c.js"><link rel="prefetch" href="/note/assets/js/46.2a8e03ec.js"><link rel="prefetch" href="/note/assets/js/47.ee30dc44.js"><link rel="prefetch" href="/note/assets/js/48.f448924f.js"><link rel="prefetch" href="/note/assets/js/49.2000bf1c.js"><link rel="prefetch" href="/note/assets/js/5.40c64966.js"><link rel="prefetch" href="/note/assets/js/50.7b8bf505.js"><link rel="prefetch" href="/note/assets/js/51.1296d3c2.js"><link rel="prefetch" href="/note/assets/js/52.3795a433.js"><link rel="prefetch" href="/note/assets/js/53.3f8267ca.js"><link rel="prefetch" href="/note/assets/js/54.544f0b92.js"><link rel="prefetch" href="/note/assets/js/55.9dbda92c.js"><link rel="prefetch" href="/note/assets/js/56.fc7fd6c3.js"><link rel="prefetch" href="/note/assets/js/57.ae75a1b9.js"><link rel="prefetch" href="/note/assets/js/58.2567cd30.js"><link rel="prefetch" href="/note/assets/js/59.e0009a84.js"><link rel="prefetch" href="/note/assets/js/6.6bba5e89.js"><link rel="prefetch" href="/note/assets/js/60.a508af4a.js"><link rel="prefetch" href="/note/assets/js/61.bc2f03cc.js"><link rel="prefetch" href="/note/assets/js/62.3c63141e.js"><link rel="prefetch" href="/note/assets/js/63.947c9e49.js"><link rel="prefetch" href="/note/assets/js/64.c4117d12.js"><link rel="prefetch" href="/note/assets/js/65.6c42872b.js"><link rel="prefetch" href="/note/assets/js/66.25e6fec1.js"><link rel="prefetch" href="/note/assets/js/67.7c161f94.js"><link rel="prefetch" href="/note/assets/js/68.dea69109.js"><link rel="prefetch" href="/note/assets/js/69.244076e6.js"><link rel="prefetch" href="/note/assets/js/7.97f49113.js"><link rel="prefetch" href="/note/assets/js/70.03a377f8.js"><link rel="prefetch" href="/note/assets/js/71.b6eddb3e.js"><link rel="prefetch" href="/note/assets/js/72.1ef998ee.js"><link rel="prefetch" href="/note/assets/js/73.a745d152.js"><link rel="prefetch" href="/note/assets/js/74.a319348a.js"><link rel="prefetch" href="/note/assets/js/75.a12b8f15.js"><link rel="prefetch" href="/note/assets/js/76.fa323628.js"><link rel="prefetch" href="/note/assets/js/77.8a74cbe3.js"><link rel="prefetch" href="/note/assets/js/78.653008d0.js"><link rel="prefetch" href="/note/assets/js/79.c59506d1.js"><link rel="prefetch" href="/note/assets/js/8.3c3b6c30.js"><link rel="prefetch" href="/note/assets/js/80.8b2648fa.js"><link rel="prefetch" href="/note/assets/js/81.815edaa6.js"><link rel="prefetch" href="/note/assets/js/82.890fe4c0.js"><link rel="prefetch" href="/note/assets/js/83.3bb83de6.js"><link rel="prefetch" href="/note/assets/js/84.1277b425.js"><link rel="prefetch" href="/note/assets/js/85.4fa569fe.js"><link rel="prefetch" href="/note/assets/js/86.d856bd23.js"><link rel="prefetch" href="/note/assets/js/87.5410caa9.js"><link rel="prefetch" href="/note/assets/js/88.1b9d91bd.js"><link rel="prefetch" href="/note/assets/js/89.50894c1a.js"><link rel="prefetch" href="/note/assets/js/9.3a746d43.js"><link rel="prefetch" href="/note/assets/js/90.19e98569.js"><link rel="prefetch" href="/note/assets/js/91.b871fa55.js"><link rel="prefetch" href="/note/assets/js/92.055f5433.js"><link rel="prefetch" href="/note/assets/js/93.2e349b50.js"><link rel="prefetch" href="/note/assets/js/94.5d856275.js"><link rel="prefetch" href="/note/assets/js/95.fbcb5931.js"><link rel="prefetch" href="/note/assets/js/96.0485c48a.js"><link rel="prefetch" href="/note/assets/js/97.8824af57.js"><link rel="prefetch" href="/note/assets/js/98.5eb4a952.js"><link rel="prefetch" href="/note/assets/js/99.d69a6a2c.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.801ee63d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">代码笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  首页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  首页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/http/network.html#osi-七层模型" class="sidebar-link">OSI 七层模型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/http/network.html#tcp-ip-参考模型" class="sidebar-link">TCP/IP 参考模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/http/network.html#常用协议" class="sidebar-link">常用协议</a></li></ul></li><li><a href="/note/http/network.html#网络接口层" class="sidebar-link">网络接口层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/http/network.html#物理层" class="sidebar-link">物理层</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#数据链路层" class="sidebar-link">数据链路层</a></li></ul></li><li><a href="/note/http/network.html#网络层" class="sidebar-link">网络层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/http/network.html#选址" class="sidebar-link">选址</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#ip" class="sidebar-link">IP</a></li></ul></li><li><a href="/note/http/network.html#传输层" class="sidebar-link">传输层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/http/network.html#传输层的功能" class="sidebar-link">传输层的功能</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#协议分类" class="sidebar-link">协议分类</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#tcp-协议" class="sidebar-link">TCP 协议</a></li><li class="sidebar-sub-header"><a href="/note/http/network.html#udp-协议" class="sidebar-link">UDP 协议</a></li></ul></li><li><a href="/note/http/network.html#应用层" class="sidebar-link">应用层</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h1> <h2 id="osi-七层模型"><a href="#osi-七层模型" class="header-anchor">#</a> OSI 七层模型</h2> <p>Open System Interconnection 适用于所有的网络</p> <ul><li>分工带来效能</li> <li>将复杂的流程分解为几个功能相对单一的子进程</li> <li>整个流程更加清晰，复杂问题简单化</li> <li>更容易发现问题并针对性的解决问题
<ul><li>应用层(Application) 提供网络与用户应用软件之间的接口服务(HTTP)</li> <li>表示层(Presentation) 提供格式化的表示和转换数据服务，如加密和压缩()</li> <li>会话层(Session) 提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制()</li> <li>传输层(Transimission) 提供建立、维护和取消传输连接功能，负责可靠地传输数据(TCP)</li> <li>网络层(Network) 处理网络间路由，确保数据及时传送(路由器)</li> <li>数据链路层(DataLink) 负责无错传输数据，确认帧、发错重传等(交换机)</li> <li>物理层(Physics) 提供机械、电气、功能和过程特性(网卡、网线、双绞线、同轴电缆、中继器)</li></ul></li></ul> <h2 id="tcp-ip-参考模型"><a href="#tcp-ip-参考模型" class="header-anchor">#</a> TCP/IP 参考模型</h2> <ul><li>TCP/IP 是传输控制协议/网络互联协议的简称</li> <li>早期的 TCP/IP 模型是一个四层结构，从下往上依次是网络接口层、互联网层、传输层和应用层</li> <li>后来在使用过程中，借鉴 OSI 七层参考模型，将网络接口层划分为了物理层和数据链路层，形成五层结构</li></ul> <p>应用层 -&gt; 传输层 -&gt; 网络层 -&gt; 数据链路层 -&gt; 物理层</p> <h3 id="常用协议"><a href="#常用协议" class="header-anchor">#</a> 常用协议</h3> <table><thead><tr><th>层级</th> <th>名称</th> <th>含义</th></tr></thead> <tbody><tr><td>应用层</td> <td>HTTP</td> <td>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议</td></tr> <tr><td>应用层</td> <td>FTP</td> <td>文件传输协议（英文：File Transfer Protocol，缩写：FTP）是用于在网络上进行文件传输的一套标准协议，使用客户/服务器模式</td></tr> <tr><td>应用层</td> <td>TFTP</td> <td>(Trivial File Transfer Protocol,简单文件传输协议)是 TCP/IP 协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议</td></tr> <tr><td>应用层</td> <td>SMTP</td> <td>简单邮件传输协议 (Simple Mail Transfer Protocol, SMTP) 是在 Internet 传输 Email 的事实标准</td></tr> <tr><td>应用层</td> <td>SNMP</td> <td>简单网络管理协议（SNMP，Simple Network Management Protocol），由一组网络管理的标准组成，包含一个应用层协议（application layer protocol）、数据库模型（database schema）和一组资源对象,该协议能够支持网络管理系统，用以监测连接到网络上的设备是否有任何引起管理上关注的情况。</td></tr> <tr><td>应用层</td> <td>DNS</td> <td>域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。</td></tr> <tr><td>传输层</td> <td>TCP</td> <td>TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议</td></tr> <tr><td>传输层</td> <td>UDP</td> <td>UDP 是 User Datagram Protocol 的简称， 中文名是用户数据报协议，是 OSI（Open System Interconnection，开放式系统互联） 参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务</td></tr> <tr><td>传输层</td> <td>ICMP</td> <td>ICMP（Internet Control Message Protocol）Internet 控制报文协议。它是 TCP/IP 协议簇的一个子协议，用于在 IP 主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息</td></tr> <tr><td>网络层</td> <td>IGMP</td> <td>Internet 组管理协议称为 IGMP 协议（Internet Group Management Protocol），是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间</td></tr> <tr><td>网络层</td> <td>IP</td> <td>互联网协议地址（英语：Internet Protocol Address，又译为网际协议地址），缩写为 IP 地址（英语：IP Address），是分配给用户上网使用的网际协议（英语：Internet Protocol, IP）的设备的数字标签</td></tr> <tr><td>网络层</td> <td>ARP</td> <td>地址解析协议，即 ARP（Address Resolution Protocol），是根据 IP 地址获取物理地址的一个 TCP/IP 协议</td></tr> <tr><td>网络层</td> <td>RARP</td> <td>反向地址转换协议（RARP：Reverse Address Resolution Protocol） 反向地址转换协议（RARP）允许局域网的物理机器从网关服务器的 ARP 表或者缓存上请求其 IP 地址</td></tr></tbody></table> <h2 id="网络接口层"><a href="#网络接口层" class="header-anchor">#</a> 网络接口层</h2> <ul><li>网络接口层是 TCP/IP 模型的最底层，负责接收从上一层交来的数据报并将数据报通过底层的物理网络发送出去，比较常见的就是设备的驱动程序，此层没有特定的协议</li> <li>网络接口层又分为物理层和数据链路层</li></ul> <h3 id="物理层"><a href="#物理层" class="header-anchor">#</a> 物理层</h3> <ul><li>计算机在传递数据的时候传递的都是 0 和 1 的数字，而物理层关心的是用什么信号来表示 0 和 1，是否可以双向通信，最初的连接如何建立以及完成连接如何终止,物理层是为数据传输提供可靠的环境</li> <li>尽可能的屏蔽掉物理设备和传输媒介，使数据链路层不考虑这些差异，只考虑本层的协议和服务</li> <li>为用户提供在一条物理传输媒体上提供传送和接收比特流的能力</li> <li>需要解决物理连接、维护和释放的问题</li></ul> <p>数字信号编码</p> <ul><li>非归零编码</li> <li>曼彻斯特编码</li></ul> <h3 id="数据链路层"><a href="#数据链路层" class="header-anchor">#</a> 数据链路层</h3> <ul><li>数据链路层是 OSI 参考模型中的第二层，介乎于物理层和网络层之间</li> <li>数据链路层在物理层提供的服务的基础上向网络层提供服务，其最基本的服务是将源自网络层来的数据可靠地传输到相邻节点的目标机网络层</li> <li>如何将数据组合成数据块，在数据链路层中称这种数据块为帧 frame，帧是数据链路层的传送单位</li> <li>如何控制帧在物理信道上的传输，包括如何处理传输差错，如何调节发送速率以使与接收方相匹配，以及在两个网络实体之间提供数据链路通路的建立、维持和释放的管理</li></ul> <h4 id="以太网"><a href="#以太网" class="header-anchor">#</a> 以太网</h4> <ul><li>以太网（Ethernet）是一种计算机局域网技术。IEEE 组织的 IEEE 802.3 标准制定了以太网的技术标准，它规定了包括物理层的连线、电子信号和介质访问层协议的内容</li> <li>以太网的标准拓扑结构为总线型拓扑</li> <li>以太网仍然使用总线型拓扑和 CSMA/CD（Carrier Sense Multiple Access/Collision Detection，即载波多重访问/碰撞侦测）的总线技术</li> <li>以太网实现了网络上无线电系统多个节点发送信息的想法，每个节点必须获取电缆或者信道的才能传送信息</li> <li>每一个节点有全球唯一的 48 位地址也就是制造商分配给网卡的 MAC 地址，以保证以太网上所有节点能互相鉴别</li></ul> <h4 id="总线型拓扑"><a href="#总线型拓扑" class="header-anchor">#</a> 总线型拓扑</h4> <ul><li>总线型拓扑是采用单根传输作为共用的传输介质,将网络中所有的计算机通过相应的硬件接口和电缆直接连接到这根共享的总线上</li> <li>使用总线型拓扑结构需解决的是确保端用户使用媒体发送数据时不能出现冲突。</li> <li>总线型网络采用载波监听多路访问/冲突检测协议（CSMA/CD)作为控制策略</li></ul> <h4 id="mac-地址"><a href="#mac-地址" class="header-anchor">#</a> MAC 地址</h4> <ul><li>在通信过程中是用内置在网卡内的地址来标识计算机身份的</li> <li>每个网卡都有一个全球唯一的地址来标识自己，不会重复</li> <li>MAC 地址 48 位的二进制组成，通常分为 6 段，用 16 进制表示，前 24 位为供应商标示，后 24 位为供应商对网卡的唯一编号</li></ul> <h4 id="以太网帧格式"><a href="#以太网帧格式" class="header-anchor">#</a> 以太网帧格式</h4> <ul><li>在以太网链路上的数据包称作以太帧。以太帧起始部分由前导码和帧开始符组成</li> <li>后面紧跟着一个以太网报头，以 MAC 地址说明目的地址和源地址</li> <li>帧的中部是该帧负载的包含其他协议报头的数据包(例如 IP 协议)</li> <li>以太帧由一个 32 位冗余校验码结尾。它用于检验数据传输是否出现损坏</li></ul> <h4 id="arp-协议"><a href="#arp-协议" class="header-anchor">#</a> ARP 协议</h4> <ul><li>地址解析协议，即 ARP（Address Resolution Protocol），是根据 IP 地址获取物理地址的一个 TCP/IP 协议</li> <li>主机发送信息时将包含目标 IP 地址的 ARP 请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该 IP 地址和物理地址存入本机 ARP 缓存中并保留一定时间，下次请求时直接查询 ARP 缓存以节约资源</li> <li>地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送 ARP 应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机 ARP 缓存</li> <li>由此攻击者就可以向某一主机发送伪 ARP 应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个 ARP 欺骗</li></ul> <h2 id="网络层"><a href="#网络层" class="header-anchor">#</a> 网络层</h2> <p>位于传输层和网络接口层之间,用于把数据从源主机经过若干个中间节点传送到目标主机,并向传输层提供最基础的数据传输服务,它要提供路由和选址的工作</p> <h3 id="选址"><a href="#选址" class="header-anchor">#</a> 选址</h3> <p>交换机是靠 MAC 来寻址的，而因为 MAC 地址是无层次的,所以要靠 IP 地址来确认计算机的位置,这就是选址</p> <h3 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h3> <p>在能够选择的多条道路之间选择一条最短的路径就是路由的工作</p> <h3 id="ip"><a href="#ip" class="header-anchor">#</a> IP</h3> <p>在网络中，每台计算机都有一个唯一的地址，方便别人找到它，这个地址称为 IP 地址</p> <h4 id="ip-头部"><a href="#ip-头部" class="header-anchor">#</a> IP 头部</h4> <table><thead><tr><th>字段</th> <th>说明</th></tr></thead> <tbody><tr><td>版本</td> <td>(Version）字段：占 4 比特。用来表明 IP 协议实现的版本号，当前一般为 IPv4，即 0100</td></tr> <tr><td>首部长部</td> <td>报头长度（Internet Header Length，IHL）字段：占 4 比特。是头部占 32 比特的数字，包括可选项。普通 IP 数据报（没有任何选项），该字段的值是 5，即 160 比特=20 字节。此字段最大值为 60 字节</td></tr> <tr><td>优先级与服务类型</td> <td>占 8 比特。其中前 3 比特为优先权子字段（Precedence，现已被忽略）。第 8 比特保留未用。第 4 至第 7 比特分别代表延迟、吞吐量、可靠性和花费。当它们取值为 1 时分别代表要求最小时延、最大吞吐量、最高可靠性和最小费用。这 4 比特的服务类型中只能置其中 1 比特为 1。可以全为 0，若全为 0 则表示一般服务。服务类型字段声明了数据报被网络系统传输时可以被怎样处理。例如：TELNET 协议可能要求有最小的延迟，FTP 协议（数据）可能要求有最大吞吐量，SNMP 协议可能要求有最高可靠性，NNTP（Network News Transfer Protocol，网络新闻传输协议）可能要求最小费用，而 ICMP 协议可能无特殊要求（4 比特全为 0</td></tr> <tr><td>总长度</td> <td>占 16 比特。指明整个数据报的长度（以字节为单位）。最大长度为 65535 字节</td></tr> <tr><td>标识符</td> <td>占 16 比特。用来唯一地标识主机发送的每一份数据报。通常每发一份报文，它的值会加 1</td></tr> <tr><td>标志</td> <td>分为 3 个字段，依次为保留位、不分片位和更多片位</td></tr> <tr><td>标志</td> <td>保留位：一般被置为 0</td></tr> <tr><td>标志</td> <td>不分片位：表示该数据报是否被分片，如果被置为 1，则不能对数据报进行分片，如果要对其进行分片处理，就应将其置为 0</td></tr> <tr><td>标志</td> <td>更多片位：除了最后一个分片，其他每个组成数据报的片都要将该位置设置为 1.</td></tr> <tr><td>段偏移量</td> <td>占 13 比特。如果一份数据报要求分段的话，此字段指明该段偏移距原始数据报开始的位置</td></tr> <tr><td>TTL(Time to Live 生存时间)</td> <td>该字段用于表示 IP 数据包的生命周期，可以防止一个数据包在网络中无限循环地发下去。TTL 的意思是一个数据包在被丢弃之前在网络中的最大周转时间。该数据包经过的每一个路由器都会检查该字段中的值，当 TTL 的值为 0 时此数据包会被丢弃。TTL 对应于一个数据包通过路由器的数目，一个数据包每经过一个路由器，TTL 将减去 1</td></tr> <tr><td>协议号</td> <td>占 8 比特。指明 IP 层所封装的上层协议类型，如 ICMP（1）、IGMP（2） 、TCP（6）、UDP（17）等</td></tr> <tr><td>首部校验和</td> <td>检验和是 16 位的错误检测字段。目的主机和网络中的每个网关都要重新计算报头的校验和，一样表示没有改动过,计算方法是：对头部中每个 16 比特进行二进制反码求和</td></tr> <tr><td>源 IP 地址</td> <td>该字段用于表示数据包的源地址，指的是发送该数据包的设备的网络地址</td></tr> <tr><td>目标 IP 地址</td> <td>该字段用于表示数据包的目标的地址，指的是接收节点的网络地址</td></tr></tbody></table> <h4 id="ip-地址格式"><a href="#ip-地址格式" class="header-anchor">#</a> IP 地址格式</h4> <ul><li>IP 地址是一个网络编码，用来确定网络中的一个节点</li> <li>IP 地址是由 32 位二进制(32bit)组成</li></ul> <h4 id="ip-地址组成"><a href="#ip-地址组成" class="header-anchor">#</a> IP 地址组成</h4> <ul><li>网络部分(NETWORK): 标示不同的网络</li> <li>主机部分(HOST): 标示在一个网络中特定的主机</li></ul> <h4 id="ip-地址的分类"><a href="#ip-地址的分类" class="header-anchor">#</a> IP 地址的分类</h4> <ul><li>IP 地址的网络部分是由 Internet 地址分配机构来统一分配的，这样可以保证 IP 的唯一性</li> <li>ip 地址中全为 1 的 ip 即 255.255.255.255，它称为限制广播地址，如果将其作为数据包的目标地址可以理解为发送到所有网络的所有主机</li> <li>ip 地址中全为 0 的 ip 即 0.0.0.0，它表示启动时的 ip 地址，其含义就是尚未未分配时的 ip 地址</li> <li>127 是用来进行本机测试的，除了 127.255.255.255 外，其它的 127 开头的地址都代表本机</li></ul> <p><img src="/note/assets/img/ipclass.686e814e.png" alt="ipclass"></p> <h4 id="公有地址和私有地址"><a href="#公有地址和私有地址" class="header-anchor">#</a> 公有地址和私有地址</h4> <table><thead><tr><th>分类</th> <th>范围</th></tr></thead> <tbody><tr><td>A 类私有 IP</td> <td>10.0.0.0 ~ 10.255.255.255</td></tr> <tr><td>B 类私有 IP</td> <td>172.16.0.0 ~ 172.31.255.255</td></tr> <tr><td>C 类私有 IP</td> <td>192.168.0.0 ~ 192.168.255.255</td></tr></tbody></table> <p>其他范围的 IP 均为公有 IP 地址</p> <h4 id="子网掩码"><a href="#子网掩码" class="header-anchor">#</a> 子网掩码</h4> <ul><li>子网掩码(subnet mask)又叫子网络遮罩，它是一种用来指明一个 IP 地址的哪些位标识的是主机所在的子网，以及哪些位标识的是主机位的掩码。</li> <li>子网掩码不能单独存在，它必须结合 IP 地址一起使用。</li> <li>子网掩码只有一个作用，就是将某个 IP 地址划分成网络地址和主机地址两部分。</li> <li>子网掩码也是 32 个二进制位</li> <li>对应 IP 的网络部分用 1 表示</li> <li>对应 IP 地址的主机部分用 0 表示</li> <li>IP 地址和子网掩码做逻辑与运算得到网络地址
<ul><li>0 和任何数相与都是 0</li> <li>1 和任何数相与都等于任何数本身</li></ul></li> <li>A B C 三类地址都有自己默认的子网掩码
<ul><li>A 类 255.0.0.0</li> <li>B 类 255.255.0.0</li> <li>C 类 255.255.255.0</li></ul></li></ul> <h2 id="传输层"><a href="#传输层" class="header-anchor">#</a> 传输层</h2> <ul><li><p>位于应用层和网络接口层之间</p></li> <li><p>是面向连接的、可靠的的进程到进程通信的协议</p></li> <li><p>TCP 提供全双工服务，即数据可在同一时间双向传播</p></li> <li><p>TCP 将若干个字节构成一个分组，此分组称为报文段(Segment)</p></li> <li><p>对可靠性要求高的上层协议，实现可靠性的保证,如果数据丢失、损坏的情况下如何保证可靠性,网络层只管传递数据，成功与否并不关心</p></li> <li><p>单工: 单向传输，例如广播，电视</p></li> <li><p>半双工: 在同一个时间点内，只能单向通信，例如对讲机</p></li> <li><p>全双工: 在任意时间点双方都可以收发数据，例如电话</p></li></ul> <h3 id="传输层的功能"><a href="#传输层的功能" class="header-anchor">#</a> 传输层的功能</h3> <ul><li>提供了一种端到端的连接</li></ul> <h3 id="协议分类"><a href="#协议分类" class="header-anchor">#</a> 协议分类</h3> <ul><li>TCP(Transimision Control Protocal)
<ul><li>传输控制协议</li> <li>可靠的、面向连接的协议</li> <li>传输效率低</li></ul></li> <li>UDP(User Datagram Protocal)
<ul><li>用户数据报协议</li> <li>不可靠的、无连接的服务</li> <li>传输效率高</li></ul></li></ul> <h3 id="tcp-协议"><a href="#tcp-协议" class="header-anchor">#</a> TCP 协议</h3> <ul><li>将数据进行分段打包传输</li> <li>对每个数据包编号控制顺序</li> <li>运输中丢失、重发和丢弃处理</li> <li>流量控制避免拥塞</li></ul> <h4 id="tcp-数据包封装"><a href="#tcp-数据包封装" class="header-anchor">#</a> TCP 数据包封装</h4> <ul><li>源端口号和目标端口号，计算机通过端口号识(最大 65535)别访问哪个服务,比如 http 服务或 ftp 服务，发送方端口号是进行随机端口，目标端口号决定了接收方哪个程序来接收</li></ul> <p><img src="/note/assets/img/tcpport.9cdd39da.png" alt="tcpport"></p> <h4 id="_32-位序列号"><a href="#_32-位序列号" class="header-anchor">#</a> 32 位序列号</h4> <ul><li>32 位序列号: TCP 用序列号对数据包进行标记，以便在到达目的地后重新重装，假设当前的序列号为 s，发送数据长度为 l，则下次发送数据时的序列号为 s + l。在建立连接时通常由计算机生成一个随机数作为序列号的初始值</li></ul> <h4 id="确认应答号"><a href="#确认应答号" class="header-anchor">#</a> 确认应答号</h4> <ul><li>确认应答号: 它等于下一次应该接收到的数据的序列号。假设发送端的序列号为 s，发送数据的长度为 l，那么接收端返回的确认应答号也是 s + l。发送端接收到这个确认应答后，可以认为这个位置以前所有的数据都已被正常接收。</li></ul> <h4 id="首部长度"><a href="#首部长度" class="header-anchor">#</a> 首部长度</h4> <ul><li>首部长度: TCP 首部的长度，单位为 4 字节。如果没有可选字段，那么这里的值就是 5。表示 TCP 首部的长度为 20 字节</li></ul> <h4 id="控制位"><a href="#控制位" class="header-anchor">#</a> 控制位</h4> <ul><li>控制位: TCP 的连接、传输和断开都受这六个控制位的指挥
<ul><li>PSH(push 急迫位) 缓存区将满，立刻传输速度</li> <li>RST(reset 重置位) 连接断了重新连接</li> <li>URG(urgent 紧急位) 紧急信号</li></ul></li> <li>紧急指针: 在 URG(urgent 紧急) 控制位为 1 时有效。表示紧急数据的末尾在 TCP 数据部分中的位置。通常在暂时中断通信时使用（比如输入 Ctrl + C）。</li></ul> <h4 id="syn"><a href="#syn" class="header-anchor">#</a> SYN</h4> <ul><li>SYN(synchronous 建立联机) 同步序号位 TCP 建立连接时要将这个值设为 1</li></ul> <h4 id="ack"><a href="#ack" class="header-anchor">#</a> ACK</h4> <ul><li>ACK(acknowledgement 确认)为 1 表示确认号</li></ul> <h4 id="fin"><a href="#fin" class="header-anchor">#</a> FIN</h4> <ul><li>FIN 发送端完成位，提出断开连接的一方把 FIN 置为 1 表示要断开连接</li></ul> <h4 id="窗口值"><a href="#窗口值" class="header-anchor">#</a> 窗口值</h4> <ul><li>窗口值: 说明本地可接收数据段的数目，这个值的大小是可变的。当网络通畅时将这个窗口值变大加快传输速度，当网络不稳定时减少这个值可以保证网络数据的可靠传输。它是来在 TCP 传输中进行流量控制的</li> <li>窗口大小: 用于表示从应答号开始能够接受多少个 8 位字节。如果窗口大小为 0，可以发送窗口探测。</li></ul> <h4 id="差错控制"><a href="#差错控制" class="header-anchor">#</a> 差错控制</h4> <ul><li>校验和用来做差错控制，TCP 校验和的计算包括 TCP 首部、数据和其它填充字节。在发送 TCP 数据段时，由发送端计算校验和，当到达目的地时又进行一次检验和计算。如果两次校验和一致说明数据是正确的，否则将认为数据被破坏，接收端将丢弃该数据</li></ul> <h4 id="握手和断开"><a href="#握手和断开" class="header-anchor">#</a> 握手和断开</h4> <ul><li>TCP 是面向连接的协议，它在源点和终点之间建立虚拟连接，而不是物理连接</li> <li>在数据通信之前，发送端与接收端要先建立连接，等数据发送结束后，双方再断开连接</li> <li>TCP 连接的每一方都是由一个 IP 地址和一个端口组成</li></ul> <p><img src="/note/assets/img/sequencenumber.8720bd64.jpg" alt="sequencenumber"> <img src="/note/assets/img/tcpflow.92b7912c.png" alt="tcpflow"></p> <h4 id="滑动窗口"><a href="#滑动窗口" class="header-anchor">#</a> 滑动窗口</h4> <ul><li>滑动窗口（Sliding window）是一种流量控制技术</li> <li>早期的网络通信中，通信双方不会考虑网络的拥挤情况直接发送数据。由于大家不知道网络拥塞状况，同时发送数据，导致中间节点阻塞掉包，谁也发不了数据，所以就有了滑动窗口机制来解决此问题</li> <li>TCP 中采用滑动窗口来进行传输控制，滑动窗口的大小意味着接收方还有多大的缓冲区可以用于接收数据。发送方可以通过滑动窗口的大小来确定应该发送多少字节的数据</li> <li>当滑动窗口为 0 时，发送方一般不能再发送数据报，但有两种情况除外，一种情况是可以发送紧急数据，例如，允许用户终止在远端机上的运行进程。另一种情况是发送方可以发送一个 1 字节的数据报来通知接收方重新声明它希望接收的下一字节及发送方的滑动窗口大小</li></ul> <p><strong>窗口机制</strong></p> <ul><li>滑动窗口协议的基本原理就是在任意时刻，发送方都维持了一个连续的允许发送的帧的序号，称为发送窗口；同时，接收方也维持了一个连续的允许接收的帧的序号，称为接收窗口</li> <li>发送窗口和接收窗口的序号的上下界不一定要一样，甚至大小也可以不同</li> <li>不同的滑动窗口协议窗口大小一般不同</li> <li>发送方窗口内的序列号代表了那些已经被发送，但是还没有被确认的帧，或者是那些可以被发送的帧</li></ul> <p><img src="/note/assets/img/slidewindow.33dc4ee1.png" alt="slidewindow"></p> <h4 id="拥塞控制"><a href="#拥塞控制" class="header-anchor">#</a> 拥塞控制</h4> <ul><li>TCP 拥塞控制是传输控制协议（英语：Transmission Control Protocol，缩写 TCP）避免网络拥塞的算法，是互联网上主要的一个拥塞控制措施</li> <li>TCP 使用多种拥塞控制策略来避免雪崩式拥塞。TCP 会为每条连接维护一个“拥塞窗口”来限制可能在端对端间传输的未确认分组总数量</li> <li>这类似 TCP 流量控制机制中使用的滑动窗口，是由发送方控制的</li> <li>TCP 在一个连接初始化或超时后使用一种“慢启动”机制来增加拥塞窗口的大小。它的起始值一般为最大分段大小（Maximum segment size，MSS）的两倍，虽然名为“慢启动”，初始值也相当低，但其增长极快：当每个分段得到确认时，拥塞窗口会增加一个 MSS，使得在每次往返时间（round-trip time，RTT）内拥塞窗口能高效地双倍增长</li> <li>在流量控制中，接收方通过 TCP 的“窗口”值（Window Size）来告知发送方，由发送方通过对拥塞窗口和接收窗口的大小比较，来确定任何时刻内需要传输的数据量</li> <li>和式增加，积式减少（additive-increase/multiplicative-decrease，AIMD，这里简称“线增积减”）是一种反馈控制算法，其包含了对拥塞窗口线性增加，和当发生拥塞时对窗口积式减少。多个使用 AIMD 控制的 TCP 流最终会收敛到对线路的等量竞争使用。</li> <li>未确认的数据包刚好等于带宽等于延迟</li> <li>当发现丢包的时候立刻减半</li></ul> <p><img src="/note/assets/img/traffic.6caeea37.png" alt="traffic"></p> <h3 id="udp-协议"><a href="#udp-协议" class="header-anchor">#</a> UDP 协议</h3> <ul><li>UDP 是一个无连接、不保证可靠性的传输层协议，也就是说发送端不关心发送的数据是否到达目标主机、数据是否出错等，收到数据的主机也不会告诉 发送方是否收到了数据，它的可靠性由上层协议来保障</li> <li>首部结构简单，在数据传输时能实现最小的开销，如果进程想发送很短的报文而对可靠性要求不高可以使用</li></ul> <p><img src="/note/assets/img/udp.0530dea7.png" alt="udp"></p> <p><strong>UDP 的应用</strong></p> <ul><li>QQ</li> <li>视频软件</li> <li>TFTP 简单文件传输协议(短信)</li></ul> <p>node 中可以使用 <code>dgram</code> 模块创建 UDP 服务器</p> <h4 id="dns-服务器"><a href="#dns-服务器" class="header-anchor">#</a> DNS 服务器</h4> <p><strong>域名</strong></p> <ul><li>域名空间结构</li> <li>根域</li> <li>顶级域
<ul><li>组织域</li> <li>国家/地区域名</li></ul></li> <li>二级域名</li></ul> <p><img src="/note/assets/img/arealocal.719c2d42.png" alt="arealocal"></p> <p><strong>DNS 服务器</strong></p> <p>DNS 是 Domain Name Service 的缩写，DNS 服务器进行域名和与之对应的 IP 地址转换的服务器</p> <ul><li>IP 地址不易记忆</li> <li>早期使用 Hosts 文件解析域名
<ul><li>主要名称重复</li> <li>主机维护困难</li></ul></li> <li>DNS(Domain Name System 域名系统)
<ul><li>分布式</li> <li>层次性</li></ul></li></ul> <p><strong>查找过程</strong></p> <p><img src="/note/assets/img/dnsquery.97b9d9d2.jpeg" alt="dnsquery"></p> <ul><li>客户端向本地域名服务器发出请求，我要访问 www.163.com，请告诉我它的 IP 地址</li> <li>本地 DNS 服务器向 DNS 根服务器发出请求，根 DNS 服务器会告诉本地服务器(.com)的服务器地址</li> <li>本地 DNS 服务器会向(.com 域)发请求，会得到(163.com)的服务器地址</li> <li>本地 DNS 服务器会向(163.com)发请求,会得到(www.163.com)的 IP 地址 1.1.1.1</li> <li>本地 DNS 服务器向客户端回复域名(www.163.com)对应的 IP 地址是 1.1.1.1</li></ul> <h4 id="dhcp-服务器"><a href="#dhcp-服务器" class="header-anchor">#</a> DHCP 服务器</h4> <p>Dynamic Host Configuration Protocol: 动态主机设置协议，应用层</p> <ul><li>保证任何 IP 地址在同一时刻只能由一台 DHCP 客户机所使用</li> <li>DHCP 应当可以给用户分配永久固定的 IP 地址</li> <li>DHCP 应当可以同用其他方法获得 IP 地址的主机共存（如手工配置 IP 地址的主机）</li> <li>DHCP 服务器应当向现有的 BOOTP 客户端提供服务</li></ul> <p><strong>工作流程</strong></p> <ul><li>主机发送 DHCPDISCOVER 广播包在网络上寻找 DHCP 服务器；</li> <li>DHCP 服务器向主机发送 DHCPOFFER 单播数据包，包含 IP 地址、MAC 地址、域名信息以及地址租期；</li> <li>主机发送 DHCPREQUEST 广播包，正式向服务器请求分配已提供的 IP 地址；</li> <li>DHCP 服务器向主机发送 DHCPACK 单播包，确认主机的请求</li></ul> <p><img src="/note/assets/img/dhcpserver.63dd5efd.jpeg" alt="dhcpserver"></p> <h2 id="应用层"><a href="#应用层" class="header-anchor">#</a> 应用层</h2> <p><strong>应用层常见协议</strong></p> <ul><li>HTTP 超文件传输协议</li> <li>FTP 文件传输协议</li> <li>SMTP(发送邮件)和 POP3(接收邮件)</li></ul> <p><strong>发送方是从高层到低层封装数据</strong></p> <ul><li>在应用层要把各式各样的数据如字母、数字、汉字、图片等转换成二进制</li> <li>在 TCP 传输层中，上层的数据被分割成小的数据段，并为每个分段后的数据封装 TCP 报文头部</li> <li>在 TCP 头部有一个关键的字段信息端口号，它用于标识上层的协议或应用程序，确保上层数据的正常通信</li> <li>计算机可以多进程并发运行，例如在发邮件的同时也可以通过浏览器浏览网页，这两种应用通过端口号进行区分</li> <li>在网络层，上层数据被封装上亲的报文头部(IP 头部)，上层的数据是包括 TCP 头部的。IP 地址包括的最关键字段信息就是 IP 地址，用于标识网络的逻辑地址。</li> <li>数据链路径层，上层数据成一个 MAC 头部，内部有最关键的是 MAC 地址。MAC 地址就是固化在硬件设备内部的全球唯一的物理地址。</li> <li>在物理层，无论在之前哪一层封装的报文头和还是上层数据都是由二进制组成的，物理将这些二进制数字比特流转换成电信号在网络中传输</li></ul> <p><img src="/note/assets/img/net-send.1cccc412.png" alt="net-send"></p> <p><strong>接收方是从低层到高层解封装</strong></p> <ul><li>数据封装完毕传输到接收方后，将数据要进行解封装</li> <li>在物理层，先把电信号转成二进制数据，并将数据传送至数据链路层</li> <li>在数据链路层，把 MAC 头部拆掉，并将剩余的数据传送至上一层</li> <li>在网络层，数据的 IP 头部被拆掉，并将剩余的数据送至上一层</li> <li>在传输层，把 TCP 头部拆掉，将真实的数据传送至应用层</li></ul> <p><img src="/note/assets/img/net-receive.de6f8e35.png" alt="net-receive"></p> <p><strong>真实网络环境</strong></p> <ul><li>发送方和接收方中间可能会有多个硬件中转设备</li> <li>中间可能会增加交换机和路由器</li> <li>数据在传输过程中不断地进行封装和解封装的过程，每层设备只能处理哪一层的数据
<ul><li>交换机属于数据链路层</li> <li>路由器属于网络层</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.a4e7d56a.js" defer></script><script src="/note/assets/js/2.9531d645.js" defer></script><script src="/note/assets/js/3.40a3a4bf.js" defer></script>
  </body>
</html>
